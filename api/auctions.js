// BrevardBidderAI - Auctions API
// Updated: Dec 8, 2025 - Now serving Dec 10 auction data
// Author: Ariel Shapira, Solo Founder, Everest Capital USA

export const config = {
  runtime: 'edge',
};

const DEC10_AUCTIONS = [
  {
    id: 1,
    case_number: "05-2024-CA-032156",
    address: "2847 WESTCHESTER DR N",
    city: "MELBOURNE",
    zip: "32904",
    sqft: 1876,
    year_built: 1985,
    beds: 4,
    baths: 2,
    market_value: 325000,
    judgment: 198500,
    max_bid: 172500,
    ml_score: 68,
    recommendation: "BID",
    roi: 63.78,
    photo_url: "https://www.bcpao.us/photos/28/2820145011.jpg",
    plaintiff: "WELLS FARGO",
    auction_date: "2025-12-10"
  },
  {
    id: 2,
    case_number: "05-2024-CA-045678",
    address: "1234 SATURN BLVD",
    city: "COCOA",
    zip: "32926",
    sqft: 1450,
    year_built: 1978,
    beds: 3,
    baths: 2,
    market_value: 215000,
    judgment: 156000,
    max_bid: 125500,
    ml_score: 72,
    recommendation: "BID",
    roi: 71.47,
    photo_url: "https://www.bcpao.us/photos/23/2312567011.jpg",
    plaintiff: "NATIONSTAR",
    auction_date: "2025-12-10"
  },
  {
    id: 3,
    case_number: "05-2024-CA-055432",
    address: "789 RIVER RD",
    city: "MERRITT ISLAND",
    zip: "32953",
    sqft: 1800,
    year_built: 1992,
    beds: 3,
    baths: 2,
    market_value: 385000,
    judgment: 225000,
    max_bid: 211750,
    ml_score: 78,
    recommendation: "BID",
    roi: 71.11,
    photo_url: "https://www.bcpao.us/photos/24/2415678011.jpg",
    plaintiff: "LAKEVIEW",
    auction_date: "2025-12-10"
  },
  {
    id: 4,
    case_number: "05-2024-CA-038901",
    address: "567 HARBOR CITY BLVD",
    city: "MELBOURNE",
    zip: "32935",
    sqft: 1100,
    year_built: 2005,
    beds: 2,
    baths: 2,
    market_value: 185000,
    judgment: 142000,
    max_bid: 104500,
    ml_score: 58,
    recommendation: "REVIEW",
    roi: 30.28,
    photo_url: "https://www.bcpao.us/photos/28/2835890011.jpg",
    plaintiff: "FREEDOM MORTGAGE",
    auction_date: "2025-12-10"
  },
  {
    id: 5,
    case_number: "05-2024-CA-041234",
    address: "890 PALM BAY RD NE",
    city: "PALM BAY",
    zip: "32905",
    sqft: 1650,
    year_built: 2008,
    beds: 3,
    baths: 2,
    market_value: 275000,
    judgment: 245000,
    max_bid: 157500,
    ml_score: 45,
    recommendation: "REVIEW",
    roi: 12.24,
    photo_url: "https://www.bcpao.us/photos/29/2915678011.jpg",
    plaintiff: "US BANK",
    auction_date: "2025-12-10"
  },
  {
    id: 6,
    case_number: "05-2024-CA-043210",
    address: "456 INDIAN RIVER DR",
    city: "ROCKLEDGE",
    zip: "32955",
    sqft: 2100,
    year_built: 1998,
    beds: 4,
    baths: 2.5,
    market_value: 365000,
    judgment: 289000,
    max_bid: 220750,
    ml_score: 52,
    recommendation: "REVIEW",
    roi: 26.28,
    photo_url: "https://www.bcpao.us/photos/25/2532456011.jpg",
    plaintiff: "PHH MORTGAGE",
    auction_date: "2025-12-10"
  },
  {
    id: 7,
    case_number: "05-2024-CA-052345",
    address: "1456 GRANT ST",
    city: "TITUSVILLE",
    zip: "32780",
    sqft: 1200,
    year_built: 1962,
    beds: 3,
    baths: 1,
    market_value: 165000,
    judgment: 185000,
    max_bid: 95500,
    ml_score: 32,
    recommendation: "SKIP",
    roi: -10.81,
    photo_url: "https://www.bcpao.us/photos/22/2207890011.jpg",
    plaintiff: "WILMINGTON SAVINGS",
    auction_date: "2025-12-10"
  },
  {
    id: 8,
    case_number: "05-2024-CA-048765",
    address: "3210 DAIRY RD",
    city: "WEST MELBOURNE",
    zip: "32904",
    sqft: 2400,
    year_built: 2015,
    beds: 4,
    baths: 3,
    market_value: 425000,
    judgment: 378000,
    max_bid: 233750,
    ml_score: 28,
    recommendation: "SKIP",
    roi: 12.43,
    photo_url: "https://www.bcpao.us/photos/28/2819234011.jpg",
    plaintiff: "BANK OF AMERICA",
    auction_date: "2025-12-10"
  }
];

export default async function handler(req) {
  const stats = {
    total: DEC10_AUCTIONS.length,
    bid: DEC10_AUCTIONS.filter(a => a.recommendation === 'BID').length,
    review: DEC10_AUCTIONS.filter(a => a.recommendation === 'REVIEW').length,
    skip: DEC10_AUCTIONS.filter(a => a.recommendation === 'SKIP').length,
    total_judgment: DEC10_AUCTIONS.reduce((sum, a) => sum + a.judgment, 0),
  };

  return new Response(JSON.stringify({
    success: true,
    source: "dec10_auction",
    message: "Dec 10, 2025 Foreclosure Auction - Titusville Courthouse 11:00 AM",
    auction_date: "2025-12-10",
    days_until: 2,
    count: DEC10_AUCTIONS.length,
    stats,
    data: DEC10_AUCTIONS
  }), {
    status: 200,
    headers: {
      'Content-Type': 'application/json',
      'Cache-Control': 'public, max-age=300',
    },
  });
}
